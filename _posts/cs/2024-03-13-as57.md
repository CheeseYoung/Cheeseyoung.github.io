---
layout: post
title: <μ΄μμ²΄μ > 8. μΈν„°λ½νΈ(Interrupt)
subtitle: Engineer Information Processing
author: Jo
categories: CS
banner:
  image: https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/19b32eaf-d2f5-4d13-82ea-4f45e1a37545
  opacity: 0.618
  background: "#000"
  height: "100vh"
  min_height: "38vh"
  heading_style: "font-size: 4.25em; font-weight: bold; text-decoration: underline"
  subheading_style: "color: gold"
tags: Study

---

# λ©μ°¨
π“ μΈν„°λ½νΈ(Interrupt) <br>
π•³ μ‹μ¤ν… μ½(System Call) <br>
π•³ κµμ°© μƒνƒ(Deadlock) <br>
<br>
<hr>

# μΈν„°λ½νΈ
μ£Όλ³€ μ¥μΉμ™€ μ…μ¶λ ¥ μ¥μΉλ” CPUλ‚ λ©”λ¨λ¦¬μ™€ λ‹¬λ¦¬ ``μΈν„°λ½νΈ``λΌλ” λ§¤μ»¤λ‹μ¦μ„ ν†µν•΄ κ΄€λ¦¬λλ‹¤.
> μ΄μ λ” μ…μ¶λ ¥ μ—°μ‚°μ΄ CPU λ…λ Ή μν–‰μ†λ„λ³΄λ‹¤ ν„μ €ν λλ¦¬κΈ° λ•λ¬Έμ΄λ‹¤.
- CPUκ°€ μ…μ¶λ ¥μ—°μ‚°μ μ†λ„(λ§¤μ° λλ¦Ό)μ— λ§μ¶”λ©΄ λ¥λ ¥μ— λΉ„ν•΄ μ‰¬λ” ν…€μ΄ κΈΈμ–΄μ§„λ‹¤.
- κ·Έλμ„ μ…μ¶λ ¥μ—°μ‚° κ²°κ³Όκ°€ λ‚μ¬ λ• κΉμ§€ CPUλ” λ‹¤λ¥Έ μΌμ„ ν•κ³ ,
  μ…μ¶λ ¥ μ—°μ‚°μ΄ μ™„λ£λλ©΄ CPUμ—κ² μ•λ ¤μ£Όλ” κ²ƒμ΄ **μΈν„°λ½νΈ**λ‹¤.

## μΈν„°λ½νΈλ€?
- CPUκ°€ ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•κ³  μμ„ λ•, μ…μ¶λ ¥ ν•λ“μ›¨μ–΄ λ“±μ μ¥μΉλ‚ μμ™Έμƒν™©μ΄ λ°μƒν•μ—¬
  μ²λ¦¬κ°€ ν•„μ”ν•  κ²½μ°μ— λ§μ΄ν¬λ΅ν”„λ΅μ„Έμ„μ—κ² μ•λ ¤ μ²λ¦¬ν•  μ μλ„λ΅ ν•λ” κ²ƒμ„ λ§ν•λ‹¤.
  μΈν„°λ½νΈλ” ν¬κ² ν•λ“μ›¨μ–΄ μΈν„°λ½νΈμ™€ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλ΅ λ‚λ‰λ‹¤.
<br>
- ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ
  - ν•λ“μ›¨μ–΄κ°€ λ°μƒμ‹ν‚¤λ” μΈν„°λ½νΈ
  - CPUκ°€ μ•„λ‹ λ‹¤λ¥Έ ν•λ“μ›¨μ–΄ μ¥μΉκ°€ cpuμ— μ–΄λ–¤ μ‚¬μ‹¤μ„ μ•λ ¤μ£Όκ±°λ‚ cpu μ„λΉ„μ¤λ¥Ό μ”μ²­ν•΄μ•Ό ν•  κ²½μ° λ°μƒ
- μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ
  - μ†ν”„νΈμ›¨μ–΄κ°€ λ°μƒμ‹ν‚¤λ” μΈν„°λ½νΈ
  - μ†ν”„νΈμ›¨μ–΄(μ‚¬μ©μ ν”„λ΅κ·Έλ¨)κ°€ μ¤μ¤λ΅ μΈν„°λ½νΈ λΌμΈμ„ μ„Έν…ν•λ‹¤.
  - μΆ…λ¥: μμ™Έ μƒν™©, system call
<br>
- μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¤κΈ° μ„ν•΄ ν•λ“μ›¨μ–΄/μ†ν”„νΈμ›¨μ–΄λ” CPUλ‚΄μ— μλ” ``μΈν„°λ½νΈ λΌμΈ``μ„ μ„Έν…ν•μ—¬ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¨λ‹¤.
- CPUλ” λ§¤λ² λ…λ Ήμ„ μν–‰ν•κΈ° μ „μ— μΈν„°λ½νΈλΌμΈμ΄ μ„Έν…λμ–΄μλ”μ§€λ¥Ό κ²€μ‚¬ν•λ‹¤.

## μΈν„°λ½νΈ κ³Όμ •
process A μ‹¤ν–‰ μ¤‘ λ””μ¤ν¬μ—μ„ μ–΄λ–¤ λ°μ΄ν„°λ¥Ό μ½μ–΄μ¤λΌλ” λ…λ Ήμ„ λ°›μ•λ‹¤κ³  κ°€μ •ν•΄λ³΄μ.
<br>
- process Aλ” ``system call``μ„ ν†µν•΄ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¨λ‹¤.
- CPUλ” ν„μ¬ μ§„ν–‰ μ¤‘μΈ κΈ°κ³„μ–΄ μ½”λ“λ¥Ό μ™„λ£ν•λ‹¤.
- ν„μ¬κΉμ§€ μν–‰μ¤‘μ΄μ—λ μƒνƒλ¥Ό ν•΄λ‹Ή processμ ``PCB(Process Control Block)``μ— μ €μ¥ν•λ‹¤.
  (μν–‰μ¤‘μ΄λ λ©”λ¨λ¦¬μ£Όμ†, λ μ§€μ¤ν„° κ°’, ν•λ“μ›¨μ–΄ μƒνƒ λ“±)
- PC(Program Counter, IP)μ— λ‹¤μμ— μ‹¤ν–‰ν•  λ…λ Ήμ μ£Όμ†λ¥Ό μ €μ¥ν•λ‹¤.
- μΈν„°λ½νΈ λ²΅ν„°λ¥Ό μ½κ³  ISR μ£Όμ†κ°’μ„ μ–»μ–΄ ISR(Interrupt Service Routine)λ΅ μ ν”„ν•μ—¬ λ£¨ν‹΄μ„ μ‹¤ν–‰ν•λ‹¤.
- ν•΄λ‹Ή μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ‹¤.
- ν•΄λ‹Ή μΌμ„ λ‹¤ μ²λ¦¬ν•λ©΄, λ€ν”Όμ‹ν‚¨ λ μ§€μ¤ν„°λ¥Ό λ³µμ›ν•λ‹¤.
- ISRμ λμ— IRET λ…λ Ήμ–΄μ— μν•΄ μΈν„°λ½νΈκ°€ ν•΄μ  λλ‹¤.
- IRET λ…λ Ήμ–΄κ°€ μ‹¤ν–‰λλ©΄, λ€ν”Όμ‹ν‚¨ PC κ°’μ„ λ³µμ›ν•μ—¬ μ΄μ „ μ‹¤ν–‰ μ„μΉλ΅ λ³µμ›ν•λ‹¤.

## μΈν„°λ½νΈμ™€ νΉκ¶ λ…λ Ή
# λ…λ Ήμ–΄μ μΆ…λ¥
CPUκ°€ μν–‰ν•λ” λ…λ Ήμ—λ” ``μΌλ° λ…λ Ή``κ³Ό ``νΉκ¶ λ…λ Ή``μ΄ μλ‹¤.
- μΌλ° λ…λ Ή
  - λ©”λ¨λ¦¬μ—μ„ μλ£λ¥Ό μ½μ–΄μ¤κ³ , CPUμ—μ„ κ³„μ‚°μ„ ν•λ” λ“±μ λ…λ Ή
  - λ¨λ“  ν”„λ΅κ·Έλ¨μ΄ μν–‰ν•  μ μλ‹¤.
- νΉκ¶ λ…λ Ή
  - λ³΄μ•μ΄ ν•„μ”ν• λ…λ ΉμΌλ΅ μ…μ¶λ ¥ μ¥μΉ, νƒ€μ΄λ¨Έ λ“±μ μ¥μΉλ¥Ό μ ‘κ·Όν•λ” λ…λ Ή
  - νΉκ¶ λ…λ Ήμ€ ν•­μƒ μ΄μμ²΄μ λ§μ΄ μν–‰ν•  μ μλ‹¤.
<br>
# kernel mode vs user mode
μ΄μμ²΄μ λ” ν•λ“μ›¨μ–΄μ μΈ λ³΄μ•μ„ μ μ§€ν•κΈ° μ„ν•΄ κΈ°λ³Έμ μΌλ΅ λ‘κ°€μ§€ operationμ„ μ§€μ›ν•λ‹¤.
- kernel mode
  - μ΄μμ²΄μ κ°€ CPUμ μ μ–΄κ¶μ„ κ°€μ§€κ³  λ…λ Ήμ„ μν–‰ν•λ” λ¨λ“
  - μΌλ° λ…λ Ήκ³Ό νΉκ¶ λ…λ Ή λ¨λ‘ μν–‰ν•  μ μλ‹¤.
- user mode
  - μΌλ° μ‚¬μ©μ ν”„λ΅κ·Έλ¨μ΄ CPU μ μ–΄κ¶μ„ κ°€μ§€κ³  λ…λ Ήμ„ μν–‰ν•λ” λ¨λ“
  - μΌλ° λ…λ Ήλ§μ„ μν–‰ν•  μ μλ‹¤.
<br>
# κ³Όμ •
μ„μ process Aκ°€ ν”„λ΅κ·Έλ¨ λ…λ Ή μν–‰μ¤‘μ— λ””μ¤ν¬ μ…μ¶λ ¥ λ…λ Ήμ„ μ½μ€ κ²½μ°λ¥Ό μƒκ°ν•΄ λ³΄μ. 
- μ‚¬μ©μ ν”„λ΅κ·Έλ¨μ€ μ…μ¶λ ¥ μ¥μΉμ— μ ‘κ·Όν•λ” λ…λ Ήμ„ μν–‰ν•  μ μ—†λ‹¤. 
  - user modeμ—μ„ νΉκ¶ λ…λ Ήμ„ μν–‰ν•  μ μ—†κΈ° λ•λ¬Έμ΄λ‹¤.
- μ΄λ° κ²½μ°μ— μ‚¬μ©μ ν”„λ΅κ·Έλ¨μ€ μ΄μμ²΄μ μ—κ² ``μ‹μ¤ν… μ½``μ„ ν†µν•΄ νΉκ¶λ…λ Ήμ„ λ€μ‹  μν–‰ν•΄λ‹¬λΌκ³  μ”μ²­ν•λ‹¤.
- μ‹μ¤ν… μ½μ€ μ£Όμ† κ³µκ°„ μμ²΄κ°€ λ‹¤λ¥Έ κ³³(μ»¤λ„μ codeμμ—­)μΌλ΅ μ΄λ™ν•΄μ•Ό ν•λ―€λ΅
  - ν”„λ΅κ·Έλ¨μ΄ μΈν„°λ½νΈ λΌμΈμ— μΈν„°λ½νΈλ¥Ό μ„Έν…ν•λ” λ…λ Ήμ„ ν†µν•΄ μ΄λ£¨μ–΄μ§„λ‹¤.
> μ‹μ¤ν… μ½μ€ μ»¤λ„ μμ—­μ κΈ°λ¥μ„ μ‚¬μ©μ λ¨λ“κ°€ μ‚¬μ© κ°€λ¥ν•κ²,
> μ¦‰ ν”„λ΅μ„Έμ¤κ°€ ν•λ“μ›¨μ–΄μ— μ§μ ‘ μ ‘κ·Όν•΄μ„ ν•„μ”ν• κΈ°λ¥μ„ μ‚¬μ©ν•  μ μκ² ν•΄μ¤€λ‹¤.
- CPUκ°€ μΈν„°λ½νΈ λΌμΈμ„ κ²€μ‚¬ν•κ³  μΈν„°λ½νΈκ°€ λ°μƒν• κ²ƒμ„ κ°μ§€ν•κ² λλ‹¤.
- ν„μ¬ μν–‰μ¤‘μΈ μ‚¬μ©μ ν”„λ΅κ·Έλ¨μ„ μ μ‹ λ©μ¶”κ³  CPUμ μ μ–΄κ¶μ„ μ΄μμ²΄μ μ—κ² μ–‘λ„ν•λ‹¤.(kernel mode)
- κ·Έλ¦¬κ³  μ΄ λ• ν•λ“μ›¨μ–΄μ μΌλ΅ λ¨λ“ λΉ„νΈκ°€ 1μ—μ„ 0μΌλ΅ μλ™μΌλ΅ μ„Έν…λμ–΄ νΉκ¶ λ…λ Ήμ„ μν–‰ν•  μ μκ² λλ‹¤.
![image](https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/19b32eaf-d2f5-4d13-82ea-4f45e1a37545)


## κ΄€λ ¨ μ©μ–΄
# μΈν„°λ½νΈ ν•Έλ“¤λ¬
- μ‹¤μ  μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•κΈ° μ„ν• λ£¨ν‹΄μΌλ΅ μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ΄λΌκ³ λ„ ν•λ‹¤.
- μ΄μμ²΄μ μ μ½”λ“ μμ—­μ—λ” μΈν„°λ½νΈλ³„λ΅ μ²λ¦¬ν•΄μ•Όν•  λ‚΄μ©μ΄ μ΄λ―Έ ν”„λ΅κ·Έλ¨λμ–΄ μλ‹¤.

# μΈν„°λ½νΈ λ²΅ν„°
- μΈν„°λ½λ“ λ°μƒμ‹ μ²λ¦¬ν•΄μ•Ό ν•  μΈν„°λ½νΈ ν•Έλ“¤λ¬μ μ£Όμ†λ¥Ό μΈν„°λ½νΈ λ³„λ΅ λ³΄κ΄€ν•κ³  μλ” ν…μ΄λΈ”μ΄λ‹¤.

# PCB(Process Control Block)
- μ»¤λ„μ λ°μ΄ν„° μμ—­μ— μ΅΄μ¬ν•λ©° κ°κ°μ ν”„λ΅μ„Έμ¤λ§λ‹¤ κ³ μ μ PCBκ°€ μλ‹¤.
- μΈν„°λ½νΈ λ°μƒ μ‹ ν”„λ΅μ„Έμ¤μ μ–΄λ λ¶€λ¶„μ΄ μν–‰μ¤‘μ΄μ—λ”μ§€λ¥Ό μ €μ¥ν•λ‹¤.
  - (μν–‰μ¤‘μ΄λ memory μ£Όμ†, λ μ§€μ¤ν„°κ°’, ν•λ“μ›¨μ–΄ μƒνƒ ...)














